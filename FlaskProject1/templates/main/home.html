{% extends "base.html" %}

{% block title %}Register | T Shoe{% endblock %}

{% block link %}
<link rel="stylesheet" href="{{ url_for('static', filename='register.css') }}">
{% endblock %}

{% block content %}
<div class="register-container">
    <h2>Register</h2>

    {% if error_message %}
        <div class="alert alert-danger" role="alert">
            {{ error_message }}
        </div>
    {% endif %}

    <form method="POST">
        <div class="mb-3 input-group">
            <span class="input-group-text"><i class="bi bi-person-fill"></i></span>
            <input type="text" id="username" name="username" class="form-control" placeholder="Username" required>
        </div>
        <div class="mb-3 input-group">
            <span class="input-group-text"><i class="bi bi-key-fill"></i></span>
            <input type="password" id="password" name="password" class="form-control" placeholder="Password" required>
            <i class="bi bi-eye-fill password-toggle" onclick="togglePassword('password', this)"></i>
        </div>
        <div class="mb-3 input-group">
            <span class="input-group-text"><i class="bi bi-key-fill"></i></span>
            <input type="password" id="confirm_password" name="confirm_password" class="form-control" placeholder="Repeat Password" required>
            <i class="bi bi-eye-fill password-toggle" onclick="togglePassword('confirm_password', this)"></i>
        </div>

        <button type="submit" class="btn btn-register">Register</button>

        <p class="text-muted mt-3">Already have an account? <a href="{{ url_for('auth.login') }}">Log in</a></p>
    </form>
</div>

<script>
    function togglePassword(id, icon) {
        const input = document.getElementById(id);
        if(input.type === "password") {
            input.type = "text";
            icon.classList.remove('bi-eye-fill');
            icon.classList.add('bi-eye-slash-fill');
        } else {
            input.type = "password";
            icon.classList.remove('bi-eye-slash-fill');
            icon.classList.add('bi-eye-fill');
        }
    }
</script>
{% endblock %}
